
# user www-data;
# worker_processes auto;
# pid /run/nginx.pid;
# include /etc/nginx/modules-enabled/*.conf;


server {
	listen				443 ssl;
	ssl_protocols		TLSv1.2 TLSv1.3;

	# SSL ( self-signed certificate generated by the Dockerfile )
	ssl_certificate		/etc/nginx/ssl/inception.crt ;
	ssl_certificate_key	/etc/nginx/ssl/inception.key;	

	# Root directory ( volume wordpress_files)
	root /var/www/html;

	# Add index.php as the default index file
	index index.php index.html index.htm;
	
	# Server name ( domain name )
	# server_name		localhost;
	server_name			sonouelg.42.fr;

	# Manage errors
	location / {
		try_files $uri $uri/ =404;
	}

	# Forward any call ending in .php to our wordpress container
	location ~ \.php$ {
		include snippets/fastcgi-php.conf;
		fastcgi_pass wordpress:9000;
	}
	
}
